<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script src="js/jquery v1.6.1.js"></script>
</head>
<body>

</body>
</html>
<script>
  // case2, alert success1, fail 1, fail 2
  var dtd = $.Deferred(); // 新建一个Deferred对象
  dtd.resolve('success');
  dtd.then(function(msg) {
      alert(msg + ' 1');
      return new $.Deferred().reject('fail');
  })
  .fail(function(msg) {
      alert(msg + ' 4');
      return new $.Deferred().resolve('success');
  })
  .then(function(msg) {
      alert(msg + ' 2');
      return msg;
  }).fail(function(msg) {
      alert(msg + ' 3');
      return msg;
  })
</script>